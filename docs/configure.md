# Configuring CWS

You may configure CWS in one of two ways:

## Interactive Mode

To configure CWS using interactive mode, use the following steps:

1. Run the installer: 

    ```sh
    cd cws
    ./configure.sh
    ```

2. Follow the prompts to provide information. See [Configuration Options](#Configuration-Options) for information about each option.

CWS will save your new configuration to a properties file and use it for subsequent runs.

## Properties File

To configure CWS using a properties file, use the following steps:

1. Create a configuration file with filetype *.properties*. An example template is provided below (and also in the `example-cws-configuration.properties` in the CWS root directory).
2. Run configure.sh, passing it the configuration file:

    ```sh
    cd cws
    ./configure.sh
    ```

# Configuration Options

| **Option**             | **Description**                                                                                                                                                                                                                                                                                                                             | **Valid Values**                                        | **Required? Y/N**                           | **Default Value**        |
|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|---------------------------------------------|--------------------------|
| `hostname`             | This is the hostname of the machine you are installing CWS (could be a Worker, a Console, or both) on. The name (or less preferably IP address) you use here should be accessible by all other components in the CWS installation.                                                                                                          | hostname or IP address                                  | Y                                           |                          |
| `install_type`         | This is the type of installation you are performing. 1 = Console and Worker, 2 = Console Only, 3 = Worker Only.                                                                                                                                                                                                                             | 1, 2, or 3                                              | Y                                           |                          |
| `worker_type`          | This is the type of worker you are installing. Only applies when `install_type` is 1 or 3. `run_all` allows the worker to run both models and command line tasks. `run_models_only` allows the worker to run only the models. `run_external_tasks_only` allows the worker to run only the command line tasks (external tasks) in the model. | `run_all`, `run_models_only`, `run_external_tasks_only` | N                                           | `run_all`                |
| `database_type`        | This is the type of database. Currently only `mysql` or `mariadb` is supported. NOTE: `mariadb` is preferred, as due to licensing restrictions, MySQL will not be supported in CWS soon.                                                                                                                                                    | `mysql`, `mariadb`                                      | Y                                           | `mysql`                  |
| `database_host`        | This is the hostname where the database is installed. This hostname must be accessible by all Workers and the Console.                                                                                                                                                                                                                      | hostname or IP address                                  | Y                                           |                          |
| `database_port`        | The port the database is accessible on.                                                                                                                                                                                                                                                                                                     | integer                                                 | Y                                           | 3306                     |
| `database_name`        | The name of the database schema.                                                                                                                                                                                                                                                                                                            | string                                                  | Y                                           | `cws`                    |
| `database_username`    | The name of the user that can access, and has CRUD permission to the database.                                                                                                                                                                                                                                                              | string                                                  | Y                                           |                          |
| `database_password`    | The password for the database user.                                                                                                                                                                                                                                                                                                         | string                                                  | Y                                           |                          |
| `admin_user`           | The username for the user that will be the CWS Administrator. This user will have the initial permission in CWS, and will have the ability to add users and modify permissions.                                                                                                                                                             | string                                                  | Y                                           |                          |
| `admin_firstname`      | The first name of the user that will be the CWS Administrator.                                                                                                                                                                                                                                                                              | string                                                  | Only if `identity_plugin_type` is `CAMUNDA` |                          |
| `admin_lastname`       | The last name of the user that will be the CWS Administrator.                                                                                                                                                                                                                                                                               | string                                                  | Only if `identity_plugin_type` is `CAMUNDA` |                          |
| `admin_email`          | The email address of the user that will be the CWS Administrator.                                                                                                                                                                                                                                                                           | email address                                           | Only if `identity_plugin_type` is `CAMUNDA` |                          |
| `cws_web_port`         | The port at which CWS will be initially web accessible, before being automatically redirected over SSL (see `cws_ssl_port` option below).                                                                                                                                                                                                   | integer                                                 | Y                                           | 38080                    |
| `cws_ssl_port`         | The port that CWS will redirect over SSL to.                                                                                                                                                                                                                                                                                                | integer                                                 | Y                                           | 38443                    |
| `cws_ajp_port`         | The AJP port that CWS will be configured with.                                                                                                                                                                                                                                                                                              | integer                                                 | Y                                           | 38009                    |
| `cws_shutdown_port`    | The port that CWS will use to signal a shutdown.                                                                                                                                                                                                                                                                                            | integer                                                 | Y                                           | 38005                    |
| `cws_console_host`     | The host that the CWS platform containing the console is installed on. This configuration option only needs to be specified if installing CWS on a non-console host.                                                                                                                                                                        | hostname or IP address                                  | Only if install_type is Worker Only         |                          |
| `cws_console_ssl_port` | The SSL port of the CWS console. This configuration option only needs to be specified if installing CWS on a non-console host.                                                                                                                                                                                                              | integer                                                 | Only if install_type is Worker Only         |                          |
| `smtp_hostname`        | The hostname for the SMTP server, used whenever CWS sends emails.                                                                                                                                                                                                                                                                           | hostname or IP address                                  | Y                                           | smtp.localhost           |
| `smtp_port`            | The port for the SMTP server, used whenever CWS sends emails.                                                                                                                                                                                                                                                                               | integer                                                 | Y                                           | 25                       |
| `amq_host`             | The host that will contain the CWS message broker. Currently this will always be the same as the Console host. If you are installing a Console, enter the same hostname as the "hostname" option. If you are installing a Worker, then enter the hostname of the console.                                                                   | hostname or IP address                                  | Y                                           | Same as the Console host |
| `amq_port`             | The port that CWS will perform messaging operation over (to the `amq_host`).                                                                                                                                                                                                                                                                | integer                                                 | Y                                           | 31616                    |
| `cws_amq_jmx_port`     | The port that CWS will use to communicate JMX operations to the message broker.                                                                                                                                                                                                                                                             | integer                                                 | Only if install_type is 1 or 2              | 37099                    |
| `cws_jmx_port`         | The port that CWS will use to communicate JMX operations to its local web server.                                                                                                                                                                                                                                                           | integer                                                 | Y                                           | 31099                    |
| `identity_plugin_type` | The authentication scheme that CWS will use. See also the `cws_ldap_url` option. The `CAMUNDA` identity plugin stores credentials in the database, initial password is "changeme." The `LDAP` plugin uses external directory for authentication.                                                                                            | `CAMUNDA`, `LDAP`                                       | Y                                           | LDAP                     |
| `cws_ldap_url`         |                                                                                                                                                                                                                                                                                                                                             |                                                         |                                             |                          |
|                        |                                                                                                                                                                                                                                                                                                                                             |                                                         |                                             |                          |
|                        |                                                                                                                                                                                                                                                                                                                                             |                                                         |                                             |                          |